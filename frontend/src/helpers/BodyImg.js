
const BodyImg = {

	img2023: [
    	'PcriYLR','AVVIY6t', 'hdLwWIu', '8Qhc9ws','Zk7Tigx', 'WecbAig', 'd6sYIQx', 'ZV8omiS', 'C2FL30o', 'cMSCWOy', '8tVqovu', 'BYSEEqg', 'xLr4QSK', 'hiZ4LZf','BW6rfkn', 'hQeeY8Z', 'KOeiCAl', 'glBV6Qb', 'vBqsJMW', '8pra7Rd', 'rlPExUJ', 'MSMxmgI','RSDQh9N','ymGCO4H', 'FTuXRE7', 'Ahnmubi', 'SJl6g90', 'jcXX6EK', '7eyYku7', 'KBmIljB', 'NdHJqq9', 'Q08j0eS', 'Y51FEqt','L48lPGN', 'nO83J0m', '3lQ2mug', 'oVtL7wj', 'c4tkU6n', 'Ri5utic', 'AQY3Jy3', 'zp6P8fv','fK4SCJw', 'zSG3q6g', 'Kka21YS', 'YygZ5XC', '2fLXWIp', 'Vu9ZIXl', '9U0wZaq', 'g84Auu1', 'g1yCG3p', 'iaJbSXN', '7GCMjBr', 'e7bVf43', 'qLENzii', 'PcXvLII', 'OrTSGQ4', 'yczOyTZ', 'w7TmaYi', 'HgYe40g','agfADSI', 'h0QrIoC', 'GJwpyM5', 'DiUg2Gz', 'UUOcN6R', '2rQFItH','qDYBWXD', 'ijwjH7u', 'sBaTamh', '5fxsluh', 'o3jqtIF', 'gdcvfTB','0mUuQAH', 'FvKVtNW', '1p3X8xe', '5Q7ildR', 'VEiDcOn', 'ndoCw8p', 'LeuCuqG','4BoTns7', 'lf1WGz0', 'Z7D7K6c', 'zc8v8vX', 'YckbnGq', 'UVijwm3', 'MDPmRDv', 'XkQwW0l', 'oyzzP19', 'K0wF7GB', 'cGQtvTv','shAtcm9', '16CzVJW', 'v6jGdxS','aAoAAs5', 'VceQl9Q', 'hiQAnJF', 'mXj1Xzo', 'EQcLWdj', 'zbiTx0p', 'fp765gr', 'o8pro67', '4FQpopm', 'wyrg1qZ', '3Qfnk4P', 'MLlosge','X0OHeBN', 'N1AlaPE','DtgqLUK', 'AiMDjj1', 'iwx5vvO', '74bXMbt', 'j2gnnDb', 'YtGEHW7', 'jPBKSxm', 'FNkIWn2', '2QJRrmO','1NVHnYK', 'E9l3KOD', 'R6kty7f', '1P0bZrv', 'nTq7AQH', 'Pe9UYDY', 'BfkRyx3', 'MiMdO6Y', 'Vzlz86z','Fb80G92', 'lo2v5Hd', 'qhTUJ73', 'vRJK56X', 'xYV2vat', '0F2TIOC', 'kLb9F1R', 'Use72lL','whHiTKk','hRYDmt7', 'dT7JtDj', 'fV5sLuJ', '6Q4Kz8r', '9hfBRh8', '63e0eCs', 'ZzuO4PF','oxli284', 'T75U0mf', 'gNF1jyF', 'BazFQNk', 'PAGxBTk', 'erxfv4f', 'TbVTjVW', 'JndYozt', 'aebTFIP','1uJrB2r', 'MZCaZhm', 'aAfKJMq', '3OYnw8n', 'm0sTeiX','q5PxE95', '63eWvoJ','eZ0p509', 'rYTRAwl', 'E2vcfUB', 'P1uaT3t','m7juptr', 'cJSxwKo', '9LSGLLM', '8HlbCss', 'PxTZFrY', 'FTrkyCB','6iPWUdH', 'Yp9P1rj', 'SSowmBN', 'dXRFudu', 'j55eBdL', '3t1QvCI', '6rQ3XTc', 'QfIjkoT', 's9TcoWD', 'htz9G6C', '8oVLvHD', 'Qo9TMJM', 'gidl0FT', 'jzn6VGV', 'STptO4K', 't4BANH5','tpe1FMg','rprxraF','QkwQ0ff', 'i2uldCT','dJMTSRJ','6xDLqYN', 'liWzX0Y', 'kCPbqrs', 'diWQ9Np','uckWkF3', 'yvDAYzi', 'gZema9d','hTW5ntu', 'kALV3wb', 'aGBcGt6', '1BCknj7','yvlD4IT','yDwlnQw', 'lbesMlz', 'ZFIBEzd', 'fuBErSi','TMg5a7l', 'xYu7bBb', 'lBVZIir', 'IZwbUiJ', '7nsXFnp', 'riMrCHh', 'mALRcYZ','G0xsxoL', 'xQYJnmp', 'Xrv9Y62', '5tj4gqH', 'j6EhhQQ', '47arOAG', 'mMKPydd','jtbNOLD', 'yV40Cyc', '7oeFKNZ', '8MYzG2F','0oz7FUc', 'ehVHu4H','1YWLRmF','eDBz4F2', 'UFQVSQf', '4Tda620', 'dLwcAee', '7SCTBCU','0MVD5Fb', 'wisb0b0', '3NacECp', 'gh2Gcsp', '9OiVNZQ', 'yRvOsGG', 'hmrsMHt', 'MaRbfhd', '2oMqvgW', 'OYyeXVK','C5u0OlC', 'fX66Ng7', 'XKHSGaR','Ublg94F', 'xOLHSSw', 'iQl1ZIR', 'W5NcYBV', 'UKVa9Dq','D3kZFLs', 'YY9wiCw', 'WXl5YIs', 'dWci9vU', 'qKiD5Nc', '32DB1vT', 'XyUNxN4', 'yD37yjV', 'v8QUzmO', 'tzigKuv','XCs7XzG', 'L5A398E', '9DMnw1D', 'r9eTjZN', 'ff1TgOz', '3MSJhs7', 'XUj1bdz', 'KcBUV4N', 'Iscktgu','SlDjsAE', 'qdVehz0', 'Iuwgiot', 'Tp9DIor','I4aFEv8', 'BeXcdqV', 'SBjtctZ', 'Mz38Hbn', 'c183rK5', '8KxcpMj','HmY8exj', 'aBdV7Nr', 'cKXJcqh','tGaiAdx', 'StkAxPW', 'eaW57C5', 'WfPbAMj','MiRCkXy', 'B09kX5n', 'zG1cLGT','maEZ2Bk', 'BX1rRdm', 'AX74oh8', 'apKmnpK', 'KtK1rwJ', 'IbCqgev', 'cPQBp5o', 'feEpuwD', 'p00VWRo', 'oPHQTc4','Wv79VIu', 'Zn2TI9L', 'iySQCUO', 'OAmo488', '56y55xs', 'HgJcARA', 'Zk3OTK4', 'GGPnd8L','ako0Ncw', 'h4VMbdh', 'qEkNmVT', 'RjkyKai', 'jKtDgGf', 'XB58LfM', '2K9IvdH', 'nlGTK0l', 'T0FCcND','ZmLBJPt', '2QAC8sb', 'naEkVvU', 'Lc05Pm0', 'f4mXjJ9', 'cZfmLYH', 'Ql8Wzxn', 'aizNSs8','7UTn2GA', 'qqu8nsV', 'dD0sXvY', 'zVJzQAT', 'n0UZefF', '8V7JheO', 'D0T4miw','UaLRB7E', 'eWgn1DJ', '41NsF0e', 'fNoFxU0', 'zAq27vI','ssRS6ce', 'p9JridR', 'Vv1G5B4', 'BJEBeSw','qZ05Gbi', 'GHCZwh3', 'XMrTDho', 'ZWdNt4V', 'XPJg0cj', 'qk9iPdY','ee5q7fw', 'HgcOQzR', 'fThKC9Q', 'MfBfSvn', 'FFQQEcn','DL6liOK', 'Z6vWkpz', 'MoQpc6F', 'emzUome', 'DGZsQ1b', 'hU35pF7', 'aYoswMg','r2QogH0', 'rQrWXUV', 'GKpAVgM', '1v78RXv', '2qifPsl', 'vX9HYPp', '21IxBRb', 'wsIa1Em', 'ZB4r87W', 'M7MM2dZ', '8HON9t3', 'ev7XrUj', 'i8yikEm', 'amkh7Wp', 'A2N09DW', '5sgex5A', 'lHnpsRc', 'uZguyBa','7WqMgfy', '1KZBSpn', 'AY9ieOi', 'MI4LN2k', 'Gg6GJ2g', 'Ycmi4B5', 'WDPDruT', 'PpFdAUu', 'tS2imZj', 'D0CAn5C','LX5L01H', 'vBR2byj', 'Ap0SURx', 'oVnAKtv', 'pzqSjC7','67vIZNs', '97WRBq2', 'vbDJsCF', 'YKOvfwN','RXlPStQ', '9d0SFev', '5Wf2s10', 'Yx3gOvj', 'ZRyAiuK', 'cd888lz', '8k5Gh4I','A3SjNEB', 'nXpdZxm', 'ZcSzy2y', 'VJgCggS','mVuz6nw', 'f4xyYRN', 'Mjk6Jm5', 'bWC5dxq', 'r6ldjPj','4pPogOm', 'IOnB9lW', 'Ep18TxG', 'z6epCod', 'spfwqjs', 'xmujt0O','kXeyeTy', 'OWorRRE', 'XLOqnLy', '17LIoY8', 'RtwBksC', 'sVEmoaO', 'zuylih8', 'Khh08ps', 'YTXtQ7h', 'A2Uql2U','nr1WVJg', '1sOpZYO', 'hNMYAEJ', 'U3s78Fe', 'CXRt7tw', 'rieyqhv', 'aqHOQr2','FntkQyw', '0Ed28Ry', 'DFWeFNN', 'YN3wfOx', '84NHIDe', 'p7enUfm', '6O5QADm','pjOhEfb', '195VF7f', 'QMtWlRH', 'fyukRP3', 'fIzoq68', 'lBdf2Eb', '8ZI8ctI', 'wREvIXu', 'DxKgY8n', 'LtHkY67','UFeOAgI','9WHh8vO', 'RI1iXJ2', 'UTeSWoC', 'l0BOtmv', 'Ms3SLm1', 'enta3IV', 'qQXIlDM', '162BMrc', 'BMXbfsw', 'UvusCHs','Fnz5jHD', 'SNqIZyW', 'NG7d4gZ', '0H8aASr', 'zIEJSsN', 'p9mvPyd', '6TYZdEv', 'sPjD8eG', 'PGK3J2r'
	],

    img: [],

	store: null,

	setStore(store) {
		this.store = store
	},

	whatYear(year){
		localStorage.setItem('whatYear', year)
		this.img = parseInt(year) == 2023 ? this.img2023 : this.filterImg()
		this.nextImage(1)
	},

	filterImg() {
		let img = this.store.getters['main/insta']
		if (!img) return []
		let map = img.map( i => i.handle.split('jpg-')[1] )
		return map;
	},


	bgImage() {


		let year = localStorage.getItem('whatYear')
        let pick = localStorage.getItem('backdrop')

        if (this.img.length === 0) {
        	this.img = parseInt(year) == 2023 ? this.img2023 : this.filterImg()
        }

        if (this.img.length === 0) {
        	BodyImg.setStyle('PcriYLR')
        	setTimeout(()=>{this.bgImage()}, 50)
        }

        let rdn = Math.floor(Math.random() * this.img.length)
        if (!pick) pick = rdn; else { pick= parseInt(pick); pick++ }
        if (pick >= this.img.length) pick = 0

        localStorage.setItem('backdrop', pick)

		let img = this.img[pick-1]
        BodyImg.setStyle(img)

        if (pick < this.img.length) BodyImg.preload(this.img[pick])

	},

	nextImage(direction) {

		let year = localStorage.getItem('whatYear')
		if (year === undefined) year = 2023

        if (this.img.length === 0) {
        	this.img = parseInt(year) == 2023 ? this.img2023 : this.filterImg()
        }

		let pick = localStorage.getItem('backdrop')
		pick= parseInt(pick);
		pick+=direction
		if (pick >= this.img.length) pick = 0
		if (pick < 0) pick = this.img.length - 1

        localStorage.setItem('backdrop', pick)

        let img = this.img[pick]
     	BodyImg.setStyle(img)

     	if (pick < this.img.length) BodyImg.preload(this.img[pick+1])

	},

	setStyle(img) {
		if (img === undefined) return
		const style = `background-image: url(https://i.imgur.com/${img}.jpg)`

        let elm = document.getElementById('heroimage')
        if (!elm) elm = document.createElement('style')
		elm.textContent = `.hero { ${style} }`
		elm.type = 'text/css'
		elm.id   = "heroimage"

		document.head.appendChild(elm)
	},

	preload(img) {
		let newImg = new Image;
		newImg.src = `https://i.imgur.com/${img}.jpg`
	}



};

export default BodyImg;